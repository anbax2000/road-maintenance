<!DOCTYPE html>
<html lang="en">

{% extends "base.html" %}
{% block content %}

<style>
 h4{
        text-align: center;
        top: 13px;
        position: relative;
    }


form{
        width: 90%;
        display: flex;
        margin: 0 auto;
        margin-bottom: 30px;
        top: 20px;
        position: relative;
        padding-right:10px;
        }

</style>

<h4 style="text-align: center;">Enter Road Details</h4>

<form id="new_road" action="/road/new " method="post">

    <div class="form-group">
        <label for="block" >Block:</label>
        <select id="block" name="block" style="margin-left: 1%; position: relative;">
        <option value="Block1">Block1</option>
        <option value="Block2">Block2</option>
        <option value="Block3">Block3</option>
        </select>
    <div>
        <label for="rd_code">Road Code:</label>
        <input type="text" id="rd_code" name="rd_code" style="display: inline; width: 10%;">
    </div>
    <div>
        <label for="rd_name">Road Name:</label>
        <input type="text" id="rd_name" name="rd_name" style="display: inline; width: 70%">
    </div>
    <div>
        <label for="rd_cat">Category :</label>
        <input type="text" id="rd_cat" name="rd_cat" style="display: inline; width: 50%">
    </div>
    <div>
        <label for="rd_width">Width   :</label>
        <input type="text" id="rd_width" name="rd_width"  style="display: inline; width: 10%" >
    </div>

    <div class="form-group">
        <span style="text-decoration: underline"> Type of Road :- </span>
    </div>
    <Table>
       <tr>
             <th> Earthern</th>
             <th> Gravel</th>
             <th> WBII </th>
             <th> WBIII </th>
             <th> BT </th>
             <th> CC </th>
             <th> Total Length </th>
       </tr>
       <tr>
           <td> <input type="text" id="rd_ty_earth" name="rd_ty_earth" class="length" value="0.00" size="5" maxlength="5"  > </td>
           <td> <input type="text" id="rd_ty_gravel" name="rd_ty_gravel" class="length" value="0.00" size="5" maxlength="5" > </td>
           <td> <input type="text" id="rd_ty_wb2" name="rd_ty_wb2" class="length" value="0.00" size="5" maxlength="5" > </td>
           <td> <input type="text" id="rd_ty_wb3" name="rd_ty_wb3" class="length" value="0.00" size="5" maxlength="5" > </td>
           <td> <input type="text" id="rd_ty_bt" name="rd_ty_bt" class="length"  value="0.00" size="5" maxlength="5" > </td>
           <td> <input type="text" id="rd_ty_cc" name="rd_ty_cc" class="length" value="0.00" size="5" maxlength="5" > </td>
           <td> <input type="text" id="road_length" name="rd_length"> </td>
       </tr>
    </Table>
    <div class="form-group">
        <label for="last_upd_yr">Last Upgradation Year:</label>
        <input type="text" id="last_upd_yr" name="last_upd_yr" value="0000-0000" style="display: inline; size="7" maxlength="9" >
    </div>
    <button type="submit" class="btn btn-success">Update Road Data </button>
</form>
<script>

                    var source = "/road_display/"+"{{rds_id}}";
                    $.ajax({
                    type: 'GET',
                    url: source,
                    contentType: "application/json",
                    dataType: 'json',
                    success: function (json) {
                        console.log(json);
                        document.getElementById("rd_code").value = json[0]["Road_code"];
                        document.getElementById("rd_name").value = json[0]["Road_name"];
                        document.getElementById("rd_cat").value = json[0]["Category_of_road"];
                        document.getElementById("block").value = json[0]["Block"];
                        document.getElementById("rd_width").value = json[0]["Road_width"];
                        document.getElementById("rd_ty_earth").value = json[0]["Road_type_earth"];
                        document.getElementById("rd_ty_gravel").value = json[0]["Road_type_gravel"];
                        document.getElementById("rd_ty_wb2").value = json[0]["Road_type_wbII"];
                        document.getElementById("rd_ty_wb3").value = json[0]["Road_type_wbIII"];
                        document.getElementById("rd_ty_bt").value = json[0]["Road_type_bt"];
                        document.getElementById("rd_ty_cc").value = json[0]["Road_type_cc"];
                        document.getElementById("rd_length").value = json[0]["Road_length"];
                        document.getElementById("last_upd_yr").value = json[0]["Last_upgrade_yr"];
                },
                    error: function (e) {
                        alert("error");
                    }
                });
</script>